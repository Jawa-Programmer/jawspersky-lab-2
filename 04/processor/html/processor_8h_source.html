<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Библиотека эмулятор процессора: Исходный файл processor.h</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Библиотека эмулятор процессора
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">Библиотека предостовляет классы виртуальных устройст, исплользуя которые можно смоделировать ахритектуру и исполнить на ней код</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Поиск');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Поиск');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">processor.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="processor_8h.html">См. документацию.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef PROCESSOR_H</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define PROCESSOR_H</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;exception&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160; </div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;unordered_set&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;initializer_list&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;../../dictionary/dictionary.hpp&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="types_8h.html">types.h</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="operands_8h.html">operands.h</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="memory_8h.html">memory.h</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160; </div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="command_8h.html">command.h</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacejpl.html">jpl</a></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="comment">// реализация классов </span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    </div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="classjpl_1_1controller.html">   32</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classjpl_1_1controller.html">controller</a></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        uint64_t time = 0; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1controller.html#acef93f6e168ca714f53ff97160874a0b">on_tick</a>(<a class="code" href="classjpl_1_1processor.html">processor</a>&amp;);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    };</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html">   46</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classjpl_1_1_a_l_u.html">ALU</a></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        uint64_t dur, fre;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        std::unordered_set&lt;const operator_*&gt; avcom;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keyword">const</span> <a class="code" href="classjpl_1_1command.html">command</a> *last ; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html#a7fcca4cd32a590a98231a39e4eb9684b">   57</a></span>&#160;        <a class="code" href="classjpl_1_1_a_l_u.html#a7fcca4cd32a590a98231a39e4eb9684b">ALU</a>(uint64_t dur_) : dur(dur_), fre(0), last(nullptr) {}</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html#a783de45f01b02ef10a0804b152a28486">   63</a></span>&#160;        <a class="code" href="classjpl_1_1_a_l_u.html#a783de45f01b02ef10a0804b152a28486">ALU</a>(uint64_t dur_, std::vector&lt;const operator_*&gt; cmds) : dur(dur_), fre(0), last(nullptr)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            avcom.insert(cmds.begin(), cmds.end());</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1_a_l_u.html#a3c30f7a60b1804551072e6fcedcf1175">operator()</a>(<a class="code" href="classjpl_1_1processor.html">processor</a>&amp;, <span class="keyword">const</span> <a class="code" href="classjpl_1_1command.html">command</a>&amp;, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1_a_l_u.html#a3c30f7a60b1804551072e6fcedcf1175">operator()</a>(<a class="code" href="classjpl_1_1processor.html">processor</a>&amp;, <span class="keywordtype">int</span>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        </div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1_a_l_u.html#a58bb224fda32b7819309399e8bacb7af">lock</a>(<a class="code" href="classjpl_1_1processor.html">processor</a> &amp;proc, <span class="keyword">const</span> <a class="code" href="classjpl_1_1operand.html">operand</a>&amp; op);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1_a_l_u.html#ad5b962e4f98cba3bfffbeb4ec7586163">unlock</a>(<a class="code" href="classjpl_1_1processor.html">processor</a> &amp;proc, <span class="keyword">const</span> <a class="code" href="classjpl_1_1operand.html">operand</a>&amp; op);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html#a4b3ff79dc6bcb78f22710ab9e57c6415">  103</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1_a_l_u.html#a4b3ff79dc6bcb78f22710ab9e57c6415">add_operator</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operators_1_1base.html">operator_</a>* op){avcom.insert(op);}</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html#a8c2363f7fc308c5cb15f84d5ff1c59da">  108</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1_a_l_u.html#a8c2363f7fc308c5cb15f84d5ff1c59da">remove_operator</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operators_1_1base.html">operator_</a>* op){avcom.erase(op);}</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html#a8287ae57e8d7872fcb9062d528d3de6b">  114</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1_a_l_u.html#a8287ae57e8d7872fcb9062d528d3de6b">is_running</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> last;}</div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classjpl_1_1_a_l_u.html#a5fe899221892d7aeb4bd7b7ccbba4f4e">  120</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1_a_l_u.html#a5fe899221892d7aeb4bd7b7ccbba4f4e">is_available</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operators_1_1base.html">operator_</a> &amp;op)<span class="keyword"> const </span>{<span class="keywordflow">return</span> avcom.find(&amp;op) != avcom.cend();}</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    };</div>
<div class="line"><a name="l00123"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html">  123</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classjpl_1_1progmem.html">progmem</a></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        std::vector&lt;command&gt; prog; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        dictionary&lt;std::string, int&gt; vars; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keywordtype">int</span>  weight = 0; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// определять свои конструкторы не надо, так как поля типа vector, dictionary и int сами заботятся о своем копировании и уничтожении</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1progmem.html#a796ffbab5aa8d547f9460fc83f28073f">insert</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1command.html">command</a>&amp; cmd, <span class="keywordtype">int</span> p = -1);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1progmem.html#abb73cff68851632fe6efd43f9758ee68">erase</a>(<span class="keywordtype">int</span> nm);</div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#ab3b52abeaf0b9286969d47019b498e29">  148</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="classjpl_1_1command.html">command</a>&amp; <a class="code" href="classjpl_1_1progmem.html#ab3b52abeaf0b9286969d47019b498e29">operator[]</a>(<span class="keywordtype">int</span> i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> prog[i];}</div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#a470eadfd1ac06b3fc9c516f621110f4a">  150</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1progmem.html#a470eadfd1ac06b3fc9c516f621110f4a">clear</a>() {prog.clear(), weight = 0;}</div>
<div class="line"><a name="l00152"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#abbf0359b7fbe2c6be8ffb2e2d1cb62aa">  152</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classjpl_1_1progmem.html#abbf0359b7fbe2c6be8ffb2e2d1cb62aa">size</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> prog.size();}</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#a6641fccf0c482dad2225042831ae5f4c">  155</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classjpl_1_1progmem.html#a6641fccf0c482dad2225042831ae5f4c">get_weight</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> weight;}</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <span class="comment">// работа с именами переменных</span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#a5ce3a4196a8a2ab0f1426074685ed426">  163</a></span>&#160;<span class="comment"></span>        <span class="keywordtype">byte</span> <a class="code" href="classjpl_1_1progmem.html#a5ce3a4196a8a2ab0f1426074685ed426">unname</a>(<span class="keyword">const</span> std::string &amp;var)<span class="keyword"> const </span>{<span class="keywordflow">return</span> vars[var];}</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#ae652c02033cba34379b2e1fb26133d0c">  169</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1progmem.html#ae652c02033cba34379b2e1fb26133d0c">set_name</a>(<span class="keyword">const</span> std::string &amp;var, <span class="keyword">const</span> <span class="keywordtype">int</span> &amp;adr) {<span class="keywordflow">return</span> vars.set(var, adr);}</div>
<div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classjpl_1_1progmem.html#a26d2d43b7dd56489c5a27e518918a01c">  174</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1progmem.html#a26d2d43b7dd56489c5a27e518918a01c">remove_name</a>(<span class="keyword">const</span> std::string &amp;var) {<span class="keywordflow">return</span> vars.unset(var);}</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classjpl_1_1progmem.html#a09bd20c0fbb146a6b7e21a759c8f5c0d">operator&lt;&lt;</a>(std::ostream&amp;, <span class="keyword">const</span> <a class="code" href="classjpl_1_1progmem.html">progmem</a>&amp;);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    };</div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html">  180</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classjpl_1_1process.html">process</a> {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        std::vector&lt;byte&gt; stack; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <span class="keywordtype">int</span> st_cou; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        </div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keyword">const</span> <a class="code" href="classjpl_1_1progmem.html">progmem</a> *prog; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordtype">int</span> counter = 0; </div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordtype">int</span> base = 0; </div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keyword">public</span>:     </div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a83a31fe902ab9f71255b418e31323c79">  190</a></span>&#160;        <a class="code" href="classjpl_1_1process.html#a83a31fe902ab9f71255b418e31323c79">process</a>() : prog(nullptr), st_cou(0) {}         </div>
<div class="line"><a name="l00192"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a15a2289b5b8ac8293c8368fefefba246">  192</a></span>&#160;        <a class="code" href="classjpl_1_1process.html#a15a2289b5b8ac8293c8368fefefba246">process</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1progmem.html">progmem</a> &amp;prog_) : prog(&amp;prog_), st_cou(0) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">try</span>{</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                counter = prog-&gt;<a class="code" href="classjpl_1_1progmem.html#a5ce3a4196a8a2ab0f1426074685ed426">unname</a>(<span class="stringliteral">&quot;start&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;e)</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                counter = 0;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        }       </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#aea1f174bce866d6b6a1ef4c68dea479a">  202</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="classjpl_1_1progmem.html">progmem</a>&amp; <a class="code" href="classjpl_1_1process.html#aea1f174bce866d6b6a1ef4c68dea479a">get_progmem</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> *prog;}      </div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a359a4946785b5f2501cdbfd322c55154">  204</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1process.html#a359a4946785b5f2501cdbfd322c55154">has_next</a>(){<span class="keywordflow">return</span> counter &lt; prog-&gt;<a class="code" href="classjpl_1_1progmem.html#abbf0359b7fbe2c6be8ffb2e2d1cb62aa">size</a>();}</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#acc14cf7e643348a49efa76f704742b47">  206</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1process.html#acc14cf7e643348a49efa76f704742b47">set_base</a>(<span class="keywordtype">int</span> b) {base = b;}</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a5f13369d61058d67c8c12ad4b6f64caf">  208</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classjpl_1_1process.html#a5f13369d61058d67c8c12ad4b6f64caf">get_base</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> base;}</div>
<div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a776e96f8d78d9199492ece4fc6da7857">  210</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classjpl_1_1process.html#a776e96f8d78d9199492ece4fc6da7857">count</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> counter;}</div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#ae74c562c913b42239c7ce3534300436d">  212</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1process.html#ae74c562c913b42239c7ce3534300436d">inc</a>() {++counter;}</div>
<div class="line"><a name="l00214"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a59bd848e7bbf73ef9e988ff743f5dfe7">  214</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1process.html#a59bd848e7bbf73ef9e988ff743f5dfe7">jump</a>(<span class="keywordtype">int</span> a) {counter = a;} </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a2a8b577a13c3c0c71287dbfead993f55">  217</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1process.html#a2a8b577a13c3c0c71287dbfead993f55">push</a>(<span class="keywordtype">byte</span> b){</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">if</span>(st_cou == (<span class="keywordtype">int</span>)stack.size()){</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                stack.push_back(b);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">else</span> stack[st_cou] = b;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            ++st_cou;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div>
<div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a4b0213b2e5e30e68c14cc93c2e922678">  225</a></span>&#160;        <span class="keywordtype">byte</span> <a class="code" href="classjpl_1_1process.html#a4b0213b2e5e30e68c14cc93c2e922678">pop</a>(){<span class="keywordflow">return</span> stack[--st_cou];}</div>
<div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a5f813c7ef78a0b069ef3a4b6972cc57a">  227</a></span>&#160;        <span class="keywordtype">byte</span> <a class="code" href="classjpl_1_1process.html#a5f813c7ef78a0b069ef3a4b6972cc57a">stack_i</a>(<span class="keywordtype">int</span> i){<span class="keywordflow">return</span> stack[st_cou-i-1];}      </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        </div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classjpl_1_1process.html#a69069bfd02ae2ea29d7f6fca148085fd">  230</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="classjpl_1_1command.html">command</a>&amp; <a class="code" href="classjpl_1_1process.html#a69069bfd02ae2ea29d7f6fca148085fd">current</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> (*prog)[counter];}</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        </div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    };</div>
<div class="line"><a name="l00234"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html">  234</a></span>&#160;    <span class="keyword">class </span><a class="code" href="classjpl_1_1processor.html">processor</a></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keyword">private</span>:</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <a class="code" href="classjpl_1_1controller.html">controller</a> control;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        std::vector&lt;ALU&gt; alus;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <a class="code" href="classjpl_1_1registers__block.html">registers_block</a> regs; <span class="comment">// блок регистров это свойство самого процессора</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="classjpl_1_1_r_a_m.html">RAM</a> *ram; <span class="comment">// но оперативная память явлется самостоятельным устройством, к которому могут обращаться несколько процессоров.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        <a class="code" href="classjpl_1_1process.html">process</a> prog; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keyword">public</span>:</div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#ab7741193dddb6b0735001d677bf56083">  250</a></span>&#160;        <a class="code" href="classjpl_1_1processor.html#ab7741193dddb6b0735001d677bf56083">processor</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1_a_l_u.html">ALU</a>&amp; alu, <span class="keywordtype">int</span> regs_, <a class="code" href="classjpl_1_1_r_a_m.html">RAM</a> *ram_ = <span class="keyword">nullptr</span>) : ram(ram_), regs(regs_) {alus.push_back(alu);}</div>
<div class="line"><a name="l00257"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a1f5380adbc90f8de2856f0050365e8e7">  257</a></span>&#160;        <a class="code" href="classjpl_1_1processor.html#a1f5380adbc90f8de2856f0050365e8e7">processor</a>(<span class="keyword">const</span> std::vector&lt;ALU&gt; &amp;alus_, <span class="keywordtype">int</span> regs_, <a class="code" href="classjpl_1_1_r_a_m.html">RAM</a> *ram_ = <span class="keyword">nullptr</span>) : ram(ram_), alus(alus_), regs(regs_) {}</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#ad67219c04c765c70f59ddfceb8621add">  264</a></span>&#160;        <a class="code" href="classjpl_1_1processor.html#ad67219c04c765c70f59ddfceb8621add">processor</a>(std::vector&lt;ALU&gt; &amp;&amp;alus_, <span class="keywordtype">int</span> regs_, <a class="code" href="classjpl_1_1_r_a_m.html">RAM</a> *ram_ = <span class="keyword">nullptr</span>) : ram(ram_), alus(alus_), regs(regs_) {}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        </div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1processor.html#ae27a3f91dfa204e987ec9166716a1227">run</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1progmem.html">progmem</a> &amp;<a class="code" href="classjpl_1_1progmem.html">progmem</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classjpl_1_1processor.html#a99b7c326964d73a70c2aba26aa87418a">is_free</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operand.html">operand</a>&amp; op) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <a class="code" href="structjpl_1_1slot.html">slot</a>&amp; <a class="code" href="classjpl_1_1processor.html#a80d001b742f7ada2f2e744748fe4c8b9">get_slot</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operand.html">operand</a>&amp; op);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keyword">const</span> <a class="code" href="structjpl_1_1slot.html">slot</a>&amp; <a class="code" href="classjpl_1_1processor.html#a80d001b742f7ada2f2e744748fe4c8b9">get_slot</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operand.html">operand</a>&amp; op) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordtype">byte</span> <a class="code" href="classjpl_1_1processor.html#a914d7097e551e2b48c730cce268f97fd">get_value</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1operand.html">operand</a>&amp; op) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a648cc4d3b77c6bc32284a25a37a9c0cc">  301</a></span>&#160;        <a class="code" href="classjpl_1_1process.html">process</a>&amp; <a class="code" href="classjpl_1_1processor.html#a648cc4d3b77c6bc32284a25a37a9c0cc">get_process</a>() {<span class="keywordflow">return</span> prog;}</div>
<div class="line"><a name="l00303"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a75478996cd43f4b20f41a8f22323b053">  303</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="classjpl_1_1process.html">process</a>&amp; <a class="code" href="classjpl_1_1processor.html#a75478996cd43f4b20f41a8f22323b053">get_process</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> prog;}</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#aeb572b74b167192ace83a05c4170ffb3">  306</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1processor.html#aeb572b74b167192ace83a05c4170ffb3">add_alu</a>(<span class="keyword">const</span> <a class="code" href="classjpl_1_1_a_l_u.html">ALU</a>&amp; alu){alus.push_back(alu);}</div>
<div class="line"><a name="l00308"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a243c19aec796541f5332665942634fb9">  308</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1processor.html#a243c19aec796541f5332665942634fb9">add_alu</a>(<a class="code" href="classjpl_1_1_a_l_u.html">ALU</a>&amp;&amp; alu){alus.push_back(alu);} </div>
<div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#aa30181b5fffffa4ca06a35338a7593e3">  310</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1processor.html#aa30181b5fffffa4ca06a35338a7593e3">remove_alu</a>(<span class="keywordtype">int</span> a){alus.erase(alus.begin()+a);}</div>
<div class="line"><a name="l00312"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a9ac48d832e5d27371e668bd54d7a968f">  312</a></span>&#160;        <a class="code" href="classjpl_1_1_a_l_u.html">ALU</a>&amp; <a class="code" href="classjpl_1_1processor.html#a9ac48d832e5d27371e668bd54d7a968f">edit_alu</a>(<span class="keywordtype">int</span> a){<span class="keywordflow">return</span> alus[a];}</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                </div>
<div class="line"><a name="l00315"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a8c65bebc554db2d2e88db7a701235896">  315</a></span>&#160;        <span class="keyword">auto</span> <a class="code" href="classjpl_1_1processor.html#a8c65bebc554db2d2e88db7a701235896">al_begin</a>(){<span class="keywordflow">return</span> alus.begin();}</div>
<div class="line"><a name="l00317"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a26c8258fc6246d7389d66b07d1ce949c">  317</a></span>&#160;        <span class="keyword">auto</span> <a class="code" href="classjpl_1_1processor.html#a26c8258fc6246d7389d66b07d1ce949c">al_end</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> alus.end();}</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        </div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#af6d6e443d0f677b69454ed33c29c91fd">  320</a></span>&#160;        <span class="keywordtype">int</span> <a class="code" href="classjpl_1_1processor.html#af6d6e443d0f677b69454ed33c29c91fd">reg_count</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> regs.<a class="code" href="classjpl_1_1registers__block.html#afdd2c24488155a6fdf7636c062fcdbde">get_size</a>();}</div>
<div class="line"><a name="l00322"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a1747b414ff2138c623207d29dd49b823">  322</a></span>&#160;        <a class="code" href="structjpl_1_1slot.html">slot</a>&amp; <a class="code" href="classjpl_1_1processor.html#a1747b414ff2138c623207d29dd49b823">reg_access</a>(<span class="keywordtype">byte</span> i) {<span class="keywordflow">return</span> regs[i];} </div>
<div class="line"><a name="l00324"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a5d8934787b691398fd10fd88c8accefe">  324</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="structjpl_1_1slot.html">slot</a>&amp; <a class="code" href="classjpl_1_1processor.html#a5d8934787b691398fd10fd88c8accefe">read_reg</a>(<span class="keywordtype">byte</span> i)<span class="keyword"> const </span>{<span class="keywordflow">return</span> regs[i];} </div>
<div class="line"><a name="l00326"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#a1629e922cf19362a6d703a7b716dfc66">  326</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classjpl_1_1processor.html#a1629e922cf19362a6d703a7b716dfc66">set_RAM</a>(<a class="code" href="classjpl_1_1_r_a_m.html">RAM</a> *ram_){ram = ram_;}</div>
<div class="line"><a name="l00328"></a><span class="lineno"><a class="line" href="classjpl_1_1processor.html#aa8b67d362b09e6f0fdfa583bd44ef91f">  328</a></span>&#160;        <a class="code" href="classjpl_1_1_r_a_m.html">RAM</a>* <a class="code" href="classjpl_1_1processor.html#aa8b67d362b09e6f0fdfa583bd44ef91f">get_RAM</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> ram;}</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    };</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160; </div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="operators_8hpp.html">operators.hpp</a>&quot;</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="operations_8h.html">operations.h</a>&quot;</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160; </div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassjpl_1_1processor_html_a5d8934787b691398fd10fd88c8accefe"><div class="ttname"><a href="classjpl_1_1processor.html#a5d8934787b691398fd10fd88c8accefe">jpl::processor::read_reg</a></div><div class="ttdeci">const slot &amp; read_reg(byte i) const</div><div class="ttdoc">предостовляет доступ к указанному регистру из блока регистров процессора только для чтения</div><div class="ttdef"><b>Definition:</b> processor.h:324</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a4b3ff79dc6bcb78f22710ab9e57c6415"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a4b3ff79dc6bcb78f22710ab9e57c6415">jpl::ALU::add_operator</a></div><div class="ttdeci">void add_operator(const operator_*op)</div><div class="ttdoc">метод добавляет новый оператор в набор поддерживаемых операторов</div><div class="ttdef"><b>Definition:</b> processor.h:103</div></div>
<div class="ttc" id="aclassjpl_1_1command_html"><div class="ttname"><a href="classjpl_1_1command.html">jpl::command</a></div><div class="ttdoc">класс команды процессора.</div><div class="ttdef"><b>Definition:</b> command.h:22</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a8c2363f7fc308c5cb15f84d5ff1c59da"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a8c2363f7fc308c5cb15f84d5ff1c59da">jpl::ALU::remove_operator</a></div><div class="ttdeci">void remove_operator(const operator_*op)</div><div class="ttdoc">метод удаляет оператор из набора поддерживаемых операторов</div><div class="ttdef"><b>Definition:</b> processor.h:108</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_ab3b52abeaf0b9286969d47019b498e29"><div class="ttname"><a href="classjpl_1_1progmem.html#ab3b52abeaf0b9286969d47019b498e29">jpl::progmem::operator[]</a></div><div class="ttdeci">const command &amp; operator[](int i) const</div><div class="ttdef"><b>Definition:</b> processor.h:148</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a1747b414ff2138c623207d29dd49b823"><div class="ttname"><a href="classjpl_1_1processor.html#a1747b414ff2138c623207d29dd49b823">jpl::processor::reg_access</a></div><div class="ttdeci">slot &amp; reg_access(byte i)</div><div class="ttdoc">предостовляет доступ к указанному регистру из блока регистров процессора</div><div class="ttdef"><b>Definition:</b> processor.h:322</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a83a31fe902ab9f71255b418e31323c79"><div class="ttname"><a href="classjpl_1_1process.html#a83a31fe902ab9f71255b418e31323c79">jpl::process::process</a></div><div class="ttdeci">process()</div><div class="ttdoc">конструктор иницавлизирует процесс без программы</div><div class="ttdef"><b>Definition:</b> processor.h:190</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_a796ffbab5aa8d547f9460fc83f28073f"><div class="ttname"><a href="classjpl_1_1progmem.html#a796ffbab5aa8d547f9460fc83f28073f">jpl::progmem::insert</a></div><div class="ttdeci">void insert(const command &amp;cmd, int p=-1)</div><div class="ttdoc">— PROGMEM —///</div><div class="ttdef"><b>Definition:</b> processor.cpp:231</div></div>
<div class="ttc" id="atypes_8h_html"><div class="ttname"><a href="types_8h.html">types.h</a></div><div class="ttdoc">Файл содержит предварительные определения всех типов библиотеки</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html"><div class="ttname"><a href="classjpl_1_1progmem.html">jpl::progmem</a></div><div class="ttdoc">класс памяти программ. Хранит основную информацию о программе (последовательность инструкций,...</div><div class="ttdef"><b>Definition:</b> processor.h:124</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a75478996cd43f4b20f41a8f22323b053"><div class="ttname"><a href="classjpl_1_1processor.html#a75478996cd43f4b20f41a8f22323b053">jpl::processor::get_process</a></div><div class="ttdeci">const process &amp; get_process() const</div><div class="ttdoc">возвращает константную ссылку на описатель исполняемого процесса</div><div class="ttdef"><b>Definition:</b> processor.h:303</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_aa8b67d362b09e6f0fdfa583bd44ef91f"><div class="ttname"><a href="classjpl_1_1processor.html#aa8b67d362b09e6f0fdfa583bd44ef91f">jpl::processor::get_RAM</a></div><div class="ttdeci">RAM * get_RAM() const</div><div class="ttdoc">возвращает указатель на ОП, котоырый был установлен в данном экземпляре процессора.</div><div class="ttdef"><b>Definition:</b> processor.h:328</div></div>
<div class="ttc" id="aoperations_8h_html"><div class="ttname"><a href="operations_8h.html">operations.h</a></div><div class="ttdoc">Файл содержит описание базовых операций, на основе которых можно создавать команды.</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_aeb572b74b167192ace83a05c4170ffb3"><div class="ttname"><a href="classjpl_1_1processor.html#aeb572b74b167192ace83a05c4170ffb3">jpl::processor::add_alu</a></div><div class="ttdeci">void add_alu(const ALU &amp;alu)</div><div class="ttdoc">добавляет экземпляр АЛУ в набор АЛУ процессора</div><div class="ttdef"><b>Definition:</b> processor.h:306</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a3c30f7a60b1804551072e6fcedcf1175"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a3c30f7a60b1804551072e6fcedcf1175">jpl::ALU::operator()</a></div><div class="ttdeci">bool operator()(processor &amp;, const command &amp;, int)</div><div class="ttdoc">оператор проверяет, возможно ли сейчас приступить к выполнению данной команды. Если так,...</div><div class="ttdef"><b>Definition:</b> processor.cpp:205</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_ad5b962e4f98cba3bfffbeb4ec7586163"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#ad5b962e4f98cba3bfffbeb4ec7586163">jpl::ALU::unlock</a></div><div class="ttdeci">void unlock(processor &amp;proc, const operand &amp;op)</div><div class="ttdoc">метод пытается снять блокировку с операнда. Константные операнды пропускаются</div><div class="ttdef"><b>Definition:</b> processor.cpp:176</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a99b7c326964d73a70c2aba26aa87418a"><div class="ttname"><a href="classjpl_1_1processor.html#a99b7c326964d73a70c2aba26aa87418a">jpl::processor::is_free</a></div><div class="ttdeci">bool is_free(const operand &amp;op) const</div><div class="ttdoc">Проверяет, является ли данный операнд заблокирован каким-либо АЛУ</div><div class="ttdef"><b>Definition:</b> processor.cpp:280</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a648cc4d3b77c6bc32284a25a37a9c0cc"><div class="ttname"><a href="classjpl_1_1processor.html#a648cc4d3b77c6bc32284a25a37a9c0cc">jpl::processor::get_process</a></div><div class="ttdeci">process &amp; get_process()</div><div class="ttdoc">возвращает ссылку на описатель исполняемого процесса</div><div class="ttdef"><b>Definition:</b> processor.h:301</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a1629e922cf19362a6d703a7b716dfc66"><div class="ttname"><a href="classjpl_1_1processor.html#a1629e922cf19362a6d703a7b716dfc66">jpl::processor::set_RAM</a></div><div class="ttdeci">void set_RAM(RAM *ram_)</div><div class="ttdoc">утанавливает указатель на ОП</div><div class="ttdef"><b>Definition:</b> processor.h:326</div></div>
<div class="ttc" id="aclassjpl_1_1controller_html_acef93f6e168ca714f53ff97160874a0b"><div class="ttname"><a href="classjpl_1_1controller.html#acef93f6e168ca714f53ff97160874a0b">jpl::controller::on_tick</a></div><div class="ttdeci">bool on_tick(processor &amp;)</div><div class="ttdoc">функция выполняет один полный цикл работы процессора. То есть посылает сигнал такта на все АЛУ,...</div><div class="ttdef"><b>Definition:</b> processor.cpp:138</div></div>
<div class="ttc" id="aclassjpl_1_1process_html"><div class="ttname"><a href="classjpl_1_1process.html">jpl::process</a></div><div class="ttdoc">класс описателя процесса. Процесс автоматически создается в методе процессора run.</div><div class="ttdef"><b>Definition:</b> processor.h:180</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a2a8b577a13c3c0c71287dbfead993f55"><div class="ttname"><a href="classjpl_1_1process.html#a2a8b577a13c3c0c71287dbfead993f55">jpl::process::push</a></div><div class="ttdeci">void push(byte b)</div><div class="ttdoc">помещает байт информации на стек</div><div class="ttdef"><b>Definition:</b> processor.h:217</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a1f5380adbc90f8de2856f0050365e8e7"><div class="ttname"><a href="classjpl_1_1processor.html#a1f5380adbc90f8de2856f0050365e8e7">jpl::processor::processor</a></div><div class="ttdeci">processor(const std::vector&lt; ALU &gt; &amp;alus_, int regs_, RAM *ram_=nullptr)</div><div class="ttdoc">конструктор процессора. Инициализация набором АЛУ, количеством регистров и указателем на ОП.</div><div class="ttdef"><b>Definition:</b> processor.h:257</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_abbf0359b7fbe2c6be8ffb2e2d1cb62aa"><div class="ttname"><a href="classjpl_1_1progmem.html#abbf0359b7fbe2c6be8ffb2e2d1cb62aa">jpl::progmem::size</a></div><div class="ttdeci">int size() const</div><div class="ttdoc">возвращает количество команд в памяти программ</div><div class="ttdef"><b>Definition:</b> processor.h:152</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a5f813c7ef78a0b069ef3a4b6972cc57a"><div class="ttname"><a href="classjpl_1_1process.html#a5f813c7ef78a0b069ef3a4b6972cc57a">jpl::process::stack_i</a></div><div class="ttdeci">byte stack_i(int i)</div><div class="ttdoc">произвольный доступ к данным со стека (i - отступ от вершины стека)</div><div class="ttdef"><b>Definition:</b> processor.h:227</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a8c65bebc554db2d2e88db7a701235896"><div class="ttname"><a href="classjpl_1_1processor.html#a8c65bebc554db2d2e88db7a701235896">jpl::processor::al_begin</a></div><div class="ttdeci">auto al_begin()</div><div class="ttdoc">возвращает итератор на начало вектора АЛУ</div><div class="ttdef"><b>Definition:</b> processor.h:315</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a9ac48d832e5d27371e668bd54d7a968f"><div class="ttname"><a href="classjpl_1_1processor.html#a9ac48d832e5d27371e668bd54d7a968f">jpl::processor::edit_alu</a></div><div class="ttdeci">ALU &amp; edit_alu(int a)</div><div class="ttdoc">возвращает АЛУ по номеру для возможности редактирования</div><div class="ttdef"><b>Definition:</b> processor.h:312</div></div>
<div class="ttc" id="aclassjpl_1_1operators_1_1base_html"><div class="ttname"><a href="classjpl_1_1operators_1_1base.html">jpl::operators::base</a></div><div class="ttdoc">базовый класс математического оператора. Является функтором. Любой поддерживаемый АЛУ оператор являет...</div><div class="ttdef"><b>Definition:</b> operators.hpp:23</div></div>
<div class="ttc" id="acommand_8h_html"><div class="ttname"><a href="command_8h.html">command.h</a></div><div class="ttdoc">Файл содержит описание описателя команды</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a359a4946785b5f2501cdbfd322c55154"><div class="ttname"><a href="classjpl_1_1process.html#a359a4946785b5f2501cdbfd322c55154">jpl::process::has_next</a></div><div class="ttdeci">bool has_next()</div><div class="ttdef"><b>Definition:</b> processor.h:204</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_ab7741193dddb6b0735001d677bf56083"><div class="ttname"><a href="classjpl_1_1processor.html#ab7741193dddb6b0735001d677bf56083">jpl::processor::processor</a></div><div class="ttdeci">processor(const ALU &amp;alu, int regs_, RAM *ram_=nullptr)</div><div class="ttdoc">конструктор процессора. Инициализация одним АЛУ, количеством регистров и указателем на ОП.</div><div class="ttdef"><b>Definition:</b> processor.h:250</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_acc14cf7e643348a49efa76f704742b47"><div class="ttname"><a href="classjpl_1_1process.html#acc14cf7e643348a49efa76f704742b47">jpl::process::set_base</a></div><div class="ttdeci">void set_base(int b)</div><div class="ttdoc">устанавливает смещение области памяти данного процесса в ОП (от этого зависит обращение к статическим...</div><div class="ttdef"><b>Definition:</b> processor.h:206</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a59bd848e7bbf73ef9e988ff743f5dfe7"><div class="ttname"><a href="classjpl_1_1process.html#a59bd848e7bbf73ef9e988ff743f5dfe7">jpl::process::jump</a></div><div class="ttdeci">void jump(int a)</div><div class="ttdoc">устанавливает счетчик</div><div class="ttdef"><b>Definition:</b> processor.h:214</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a783de45f01b02ef10a0804b152a28486"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a783de45f01b02ef10a0804b152a28486">jpl::ALU::ALU</a></div><div class="ttdeci">ALU(uint64_t dur_, std::vector&lt; const operator_*&gt; cmds)</div><div class="ttdoc">конструктор инициализирует АЛУ с указанными временем выполнения операции и списком поддерживаемых опе...</div><div class="ttdef"><b>Definition:</b> processor.h:63</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a26c8258fc6246d7389d66b07d1ce949c"><div class="ttname"><a href="classjpl_1_1processor.html#a26c8258fc6246d7389d66b07d1ce949c">jpl::processor::al_end</a></div><div class="ttdeci">auto al_end() const</div><div class="ttdoc">возвращает итератор на конец вектора АЛУ</div><div class="ttdef"><b>Definition:</b> processor.h:317</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a8287ae57e8d7872fcb9062d528d3de6b"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a8287ae57e8d7872fcb9062d528d3de6b">jpl::ALU::is_running</a></div><div class="ttdeci">bool is_running() const</div><div class="ttdoc">метод возвращает флаг состояния АЛУ</div><div class="ttdef"><b>Definition:</b> processor.h:114</div></div>
<div class="ttc" id="aclassjpl_1_1operand_html"><div class="ttname"><a href="classjpl_1_1operand.html">jpl::operand</a></div><div class="ttdoc">абстрактный класс описателя операнда</div><div class="ttdef"><b>Definition:</b> operands.h:19</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_a26d2d43b7dd56489c5a27e518918a01c"><div class="ttname"><a href="classjpl_1_1progmem.html#a26d2d43b7dd56489c5a27e518918a01c">jpl::progmem::remove_name</a></div><div class="ttdeci">void remove_name(const std::string &amp;var)</div><div class="ttdef"><b>Definition:</b> processor.h:174</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a776e96f8d78d9199492ece4fc6da7857"><div class="ttname"><a href="classjpl_1_1process.html#a776e96f8d78d9199492ece4fc6da7857">jpl::process::count</a></div><div class="ttdeci">int count() const</div><div class="ttdoc">возвращает текущее значение счетчика команд</div><div class="ttdef"><b>Definition:</b> processor.h:210</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_ae27a3f91dfa204e987ec9166716a1227"><div class="ttname"><a href="classjpl_1_1processor.html#ae27a3f91dfa204e987ec9166716a1227">jpl::processor::run</a></div><div class="ttdeci">void run(const progmem &amp;progmem)</div><div class="ttdoc">начинает выполнение команды.</div><div class="ttdef"><b>Definition:</b> processor.cpp:373</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html"><div class="ttname"><a href="classjpl_1_1_a_l_u.html">jpl::ALU</a></div><div class="ttdoc">Арифметико-Логическое Устройство. Выполняет переданные команды, если используемые операторы принадлеж...</div><div class="ttdef"><b>Definition:</b> processor.h:47</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_a470eadfd1ac06b3fc9c516f621110f4a"><div class="ttname"><a href="classjpl_1_1progmem.html#a470eadfd1ac06b3fc9c516f621110f4a">jpl::progmem::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdoc">очищает память программ.</div><div class="ttdef"><b>Definition:</b> processor.h:150</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a4b0213b2e5e30e68c14cc93c2e922678"><div class="ttname"><a href="classjpl_1_1process.html#a4b0213b2e5e30e68c14cc93c2e922678">jpl::process::pop</a></div><div class="ttdeci">byte pop()</div><div class="ttdoc">снимает байт инфомации со стека</div><div class="ttdef"><b>Definition:</b> processor.h:225</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a7fcca4cd32a590a98231a39e4eb9684b"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a7fcca4cd32a590a98231a39e4eb9684b">jpl::ALU::ALU</a></div><div class="ttdeci">ALU(uint64_t dur_)</div><div class="ttdoc">конструктор инициализирует АЛУ с указанным временем выполнения операции и пустым списком поддерживаем...</div><div class="ttdef"><b>Definition:</b> processor.h:57</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a243c19aec796541f5332665942634fb9"><div class="ttname"><a href="classjpl_1_1processor.html#a243c19aec796541f5332665942634fb9">jpl::processor::add_alu</a></div><div class="ttdeci">void add_alu(ALU &amp;&amp;alu)</div><div class="ttdoc">добавляет экземпляр АЛУ в набор АЛУ процессора, используя семантику перемещения АЛУ</div><div class="ttdef"><b>Definition:</b> processor.h:308</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_ae652c02033cba34379b2e1fb26133d0c"><div class="ttname"><a href="classjpl_1_1progmem.html#ae652c02033cba34379b2e1fb26133d0c">jpl::progmem::set_name</a></div><div class="ttdeci">void set_name(const std::string &amp;var, const int &amp;adr)</div><div class="ttdef"><b>Definition:</b> processor.h:169</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_aa30181b5fffffa4ca06a35338a7593e3"><div class="ttname"><a href="classjpl_1_1processor.html#aa30181b5fffffa4ca06a35338a7593e3">jpl::processor::remove_alu</a></div><div class="ttdeci">void remove_alu(int a)</div><div class="ttdoc">удаляет АЛУ из набора АЛУ процессора по номеру</div><div class="ttdef"><b>Definition:</b> processor.h:310</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a69069bfd02ae2ea29d7f6fca148085fd"><div class="ttname"><a href="classjpl_1_1process.html#a69069bfd02ae2ea29d7f6fca148085fd">jpl::process::current</a></div><div class="ttdeci">const command &amp; current() const</div><div class="ttdoc">передает константный указатель на текущую команду для исполнения</div><div class="ttdef"><b>Definition:</b> processor.h:230</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_a09bd20c0fbb146a6b7e21a759c8f5c0d"><div class="ttname"><a href="classjpl_1_1progmem.html#a09bd20c0fbb146a6b7e21a759c8f5c0d">jpl::progmem::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp;, const progmem &amp;)</div><div class="ttdoc">вывод в поток исходного текста программы</div><div class="ttdef"><b>Definition:</b> processor.cpp:268</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_aea1f174bce866d6b6a1ef4c68dea479a"><div class="ttname"><a href="classjpl_1_1process.html#aea1f174bce866d6b6a1ef4c68dea479a">jpl::process::get_progmem</a></div><div class="ttdeci">const progmem &amp; get_progmem() const</div><div class="ttdoc">метод возвращает константную ссылку на память программ</div><div class="ttdef"><b>Definition:</b> processor.h:202</div></div>
<div class="ttc" id="anamespacejpl_html"><div class="ttname"><a href="namespacejpl.html">jpl</a></div><div class="ttdoc">пространство имен Jawa Programmer Library.</div><div class="ttdef"><b>Definition:</b> command.h:18</div></div>
<div class="ttc" id="aclassjpl_1_1registers__block_html"><div class="ttname"><a href="classjpl_1_1registers__block.html">jpl::registers_block</a></div><div class="ttdoc">класс блока регистров процессора.</div><div class="ttdef"><b>Definition:</b> memory.h:23</div></div>
<div class="ttc" id="aoperands_8h_html"><div class="ttname"><a href="operands_8h.html">operands.h</a></div><div class="ttdoc">Файл содержит описание операндов, которые могут использоваться для передачи параметров в командах</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a914d7097e551e2b48c730cce268f97fd"><div class="ttname"><a href="classjpl_1_1processor.html#a914d7097e551e2b48c730cce268f97fd">jpl::processor::get_value</a></div><div class="ttdeci">byte get_value(const operand &amp;op) const</div><div class="ttdoc">возвращает фактическое значение переданного операнда (содержит рекурсию, так как reg_operand и ram_op...</div><div class="ttdef"><b>Definition:</b> processor.cpp:343</div></div>
<div class="ttc" id="astructjpl_1_1slot_html"><div class="ttname"><a href="structjpl_1_1slot.html">jpl::slot</a></div><div class="ttdef"><b>Definition:</b> types.h:68</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a15a2289b5b8ac8293c8368fefefba246"><div class="ttname"><a href="classjpl_1_1process.html#a15a2289b5b8ac8293c8368fefefba246">jpl::process::process</a></div><div class="ttdeci">process(const progmem &amp;prog_)</div><div class="ttdoc">конструктор иницавлизирует процесс указанной программой. счетчик устанавливается по метке start из па...</div><div class="ttdef"><b>Definition:</b> processor.h:192</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_a5ce3a4196a8a2ab0f1426074685ed426"><div class="ttname"><a href="classjpl_1_1progmem.html#a5ce3a4196a8a2ab0f1426074685ed426">jpl::progmem::unname</a></div><div class="ttdeci">byte unname(const std::string &amp;var) const</div><div class="ttdef"><b>Definition:</b> processor.h:163</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a58bb224fda32b7819309399e8bacb7af"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a58bb224fda32b7819309399e8bacb7af">jpl::ALU::lock</a></div><div class="ttdeci">bool lock(processor &amp;proc, const operand &amp;op)</div><div class="ttdoc">метод пытается заблокировать операнд. Владельцем блокировки выступает экземпляр АЛУ....</div><div class="ttdef"><b>Definition:</b> processor.cpp:165</div></div>
<div class="ttc" id="aoperators_8hpp_html"><div class="ttname"><a href="operators_8hpp.html">operators.hpp</a></div><div class="ttdoc">Файл содержит описание базовых математических операторов, которые можно использовать в АЛУ при проект...</div></div>
<div class="ttc" id="aclassjpl_1_1registers__block_html_afdd2c24488155a6fdf7636c062fcdbde"><div class="ttname"><a href="classjpl_1_1registers__block.html#afdd2c24488155a6fdf7636c062fcdbde">jpl::registers_block::get_size</a></div><div class="ttdeci">int get_size() const</div><div class="ttdoc">возвращает размер блока регистров</div><div class="ttdef"><b>Definition:</b> memory.h:63</div></div>
<div class="ttc" id="aclassjpl_1_1controller_html"><div class="ttname"><a href="classjpl_1_1controller.html">jpl::controller</a></div><div class="ttdoc">Устройство Управления (УУ).</div><div class="ttdef"><b>Definition:</b> processor.h:33</div></div>
<div class="ttc" id="aclassjpl_1_1_r_a_m_html"><div class="ttname"><a href="classjpl_1_1_r_a_m.html">jpl::RAM</a></div><div class="ttdoc">класс оперативной памяти</div><div class="ttdef"><b>Definition:</b> memory.h:67</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_a80d001b742f7ada2f2e744748fe4c8b9"><div class="ttname"><a href="classjpl_1_1processor.html#a80d001b742f7ada2f2e744748fe4c8b9">jpl::processor::get_slot</a></div><div class="ttdeci">slot &amp; get_slot(const operand &amp;op)</div><div class="ttdoc">возвращает слот памяти, на который ссылается операнд (содержит рекурсию, так как reg_operand и ram_op...</div><div class="ttdef"><b>Definition:</b> processor.cpp:296</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_ae74c562c913b42239c7ce3534300436d"><div class="ttname"><a href="classjpl_1_1process.html#ae74c562c913b42239c7ce3534300436d">jpl::process::inc</a></div><div class="ttdeci">void inc()</div><div class="ttdoc">инкрементирует счетчик</div><div class="ttdef"><b>Definition:</b> processor.h:212</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_abb73cff68851632fe6efd43f9758ee68"><div class="ttname"><a href="classjpl_1_1progmem.html#abb73cff68851632fe6efd43f9758ee68">jpl::progmem::erase</a></div><div class="ttdeci">void erase(int nm)</div><div class="ttdef"><b>Definition:</b> processor.cpp:248</div></div>
<div class="ttc" id="amemory_8h_html"><div class="ttname"><a href="memory_8h.html">memory.h</a></div><div class="ttdoc">Файл содержит описание классов ОП и блока регистров</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_af6d6e443d0f677b69454ed33c29c91fd"><div class="ttname"><a href="classjpl_1_1processor.html#af6d6e443d0f677b69454ed33c29c91fd">jpl::processor::reg_count</a></div><div class="ttdeci">int reg_count() const</div><div class="ttdoc">возвраащет общее количество регистров процессора</div><div class="ttdef"><b>Definition:</b> processor.h:320</div></div>
<div class="ttc" id="aclassjpl_1_1progmem_html_a6641fccf0c482dad2225042831ae5f4c"><div class="ttname"><a href="classjpl_1_1progmem.html#a6641fccf0c482dad2225042831ae5f4c">jpl::progmem::get_weight</a></div><div class="ttdeci">int get_weight() const</div><div class="ttdoc">возвращает вес программы (необходимое под статические переменные место)</div><div class="ttdef"><b>Definition:</b> processor.h:155</div></div>
<div class="ttc" id="aclassjpl_1_1_a_l_u_html_a5fe899221892d7aeb4bd7b7ccbba4f4e"><div class="ttname"><a href="classjpl_1_1_a_l_u.html#a5fe899221892d7aeb4bd7b7ccbba4f4e">jpl::ALU::is_available</a></div><div class="ttdeci">bool is_available(const operator_&amp;op) const</div><div class="ttdoc">метод проверяет, поддерживается ли переданный оператор</div><div class="ttdef"><b>Definition:</b> processor.h:120</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html_ad67219c04c765c70f59ddfceb8621add"><div class="ttname"><a href="classjpl_1_1processor.html#ad67219c04c765c70f59ddfceb8621add">jpl::processor::processor</a></div><div class="ttdeci">processor(std::vector&lt; ALU &gt; &amp;&amp;alus_, int regs_, RAM *ram_=nullptr)</div><div class="ttdoc">конструктор процессора. Инициализация набором АЛУ, количеством регистров и указателем на ОП.</div><div class="ttdef"><b>Definition:</b> processor.h:264</div></div>
<div class="ttc" id="aclassjpl_1_1process_html_a5f13369d61058d67c8c12ad4b6f64caf"><div class="ttname"><a href="classjpl_1_1process.html#a5f13369d61058d67c8c12ad4b6f64caf">jpl::process::get_base</a></div><div class="ttdeci">int get_base() const</div><div class="ttdoc">возвращает смещение области данных данного процесса в ОП</div><div class="ttdef"><b>Definition:</b> processor.h:208</div></div>
<div class="ttc" id="aclassjpl_1_1processor_html"><div class="ttname"><a href="classjpl_1_1processor.html">jpl::processor</a></div><div class="ttdoc">класс процессора. Процессор определяется набором АЛУ, блоком регистров и указателем на память.</div><div class="ttdef"><b>Definition:</b> processor.h:235</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Создано системой&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
